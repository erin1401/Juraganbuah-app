<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Penjualan â€” Juragan Buah</title>

<link rel="stylesheet" href="styles.css">

<style>
  body { margin:0; background:#f4f6f7; font-family:Inter,sans-serif; }
  .layout { display:flex; min-height:100vh; }

  /* SIDEBAR */
  .sidebar {
    width:240px; background:#0E4F24; color:white;
    padding:22px 0; display:flex; flex-direction:column;
    box-shadow:4px 0 12px rgba(0,0,0,0.18);
  }
  .brand { display:flex; align-items:center; gap:12px; padding:0 22px; margin-bottom:30px; }
  .brand img { width:50px; padding:6px; background:rgba(255,255,255,0.09); border-radius:10px; }

  .menu a {
    display:block; padding:14px 26px; text-decoration:none; color:white;
    font-size:15px; opacity:.9;
  }
  .menu a.active, .menu a:hover { background:rgba(255,255,255,0.15); opacity:1; }

  .logout-btn {
    margin:20px; padding:12px; border:0; border-radius:10px;
    background:#ffdede; color:#8b0000; cursor:pointer; font-weight:700;
  }

  /* CONTENT */
  .content {
    flex:1; padding:22px; display:flex; gap:22px;
  }

  .left, .right {
    flex:1; background:white; border-radius:14px;
    padding:20px; box-shadow:0 0 12px rgba(0,0,0,0.06);
  }

  .right { max-width:360px; }

  .title { font-size:22px; font-weight:700; margin-bottom:18px; }

  select, input {
    width:100%; padding:10px; border-radius:10px; border:1px solid #ccc; margin-bottom:14px;
  }

  table {
    width:100%; background:white; border-collapse:collapse;
  }
  th, td {
    padding:10px; border-bottom:1px solid #eee;
  }
  th { background:#fafafa; text-align:left; }

  .btn {
    padding:10px 16px; border-radius:10px; cursor:pointer; border:0; font-weight:700;
  }
  .btn-add { background:#0E4F24; color:white; width:100%; margin-top:8px; }
  .btn-del { background:#ffe0e0; color:#a10000; padding:6px 10px; border-radius:8px; }

  .total-box {
    background:#f4f6f7; padding:16px; border-radius:12px; margin:12px 0;
  }

  .pay-btn {
    background:#0E4F24; color:white; width:100%; padding:14px;
    border-radius:12px; font-size:16px; margin-top:12px;
  }

  @media(max-width:820px){
    .content { flex-direction:column; }
    .right { max-width:100%; }
  }
</style>

</head>
<body>

<div class="layout">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="brand">
      <img src="assets/logo.svg">
      <div style="font-size:18px;font-weight:700;">Juragan Buah</div>
    </div>

    <nav class="menu">
      <a href="dashboard.html">Dashboard</a>
      <a href="items.html">Master Item</a>
      <a href="buyers.html">Pembeli</a>
      <a href="stock-in.html">Item Masuk</a>
      <a href="stock-out.html">Item Keluar</a>
      <a href="opname.html">Stok Opname</a>
      <a href="sales.html" class="active">Penjualan</a>
      <a href="report-sales.html">Laporan Penjualan</a>
      <a href="report-stock.html">Laporan Persediaan</a>
      <a href="report-profit.html">Laba Rugi</a>
    </nav>

    <button class="logout-btn" onclick="logout()">Keluar</button>
  </aside>

  <!-- CONTENT -->
  <main class="content">

    <!-- LEFT PANEL -->
    <div class="left">
      <div class="title">Tambah Item</div>

      <select id="saleItem"></select>

      <input type="number" id="saleQty" placeholder="Jumlah" min="1">

      <input type="text" id="barcodeInput" placeholder="Scan Barcode / Kode Produk">

      <button class="btn btn-add" onclick="addToCart()">+ Tambah ke Keranjang</button>

      <table style="margin-top:20px;">
        <thead>
          <tr>
            <th>Item</th>
            <th>Qty</th>
            <th>Subtotal</th>
            <th></th>
          </tr>
        </thead>
        <tbody id="cartTable"></tbody>
      </table>
    </div>

    <!-- RIGHT PANEL -->
    <div class="right">
      <div class="title">Pembayaran</div>

      <select id="buyerSelect"></select>

      <select id="paymentMethod">
        <option value="tunai">Tunai</option>
        <option value="transfer">Transfer</option>
        <option value="qris">QRIS</option>
      </select>

      <div class="total-box">
        <div>Total:</div>
        <div style="font-size:20px;font-weight:700;" id="totalDisplay">Rp 0</div>
      </div>

      <input type="number" id="payInput" placeholder="Jumlah Bayar" min="0">

      <div style="margin-top:10px;">
        Kembalian:  
        <span id="changeDisplay" style="font-weight:700;">Rp 0</span>
      </div>

      <button class="pay-btn" onclick="finishSale()">Selesaikan Transaksi</button>
    </div>

  </main>
</div>

<!-- FOR PRINT (HIDDEN) -->
<iframe id="printFrame" style="display:none;"></iframe>

<script src="utils.js"></script>
<script src="data.js"></script>
<script src="sales.js"></script>

</body>
</html>
