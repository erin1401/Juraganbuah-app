<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Login | Juragan Buah POS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="../css/styles.css">
</head>

<body class="login-page">

<div class="login-wrapper">
  <div class="login-card">

    <img src="../assets/logo.png" class="login-logo" alt="logo">

    <h2>Juragan Buah POS</h2>
    <p>Login untuk masuk ke sistem</p>

    <form id="loginForm">
      <input id="username" placeholder="Username" autocomplete="username" required>
      <input id="password" type="password" placeholder="Password" autocomplete="current-password" required>

      <button class="btn btn-green" type="submit">üîê Login</button>
    </form>

    <p id="errorMsg" style="color:red;margin-top:10px"></p>

  </div>
</div>

<script src="../js/auth.js"></script>

<script>
document.getElementById("loginForm").addEventListener("submit", function(e){
  e.preventDefault();

  const u = document.getElementById("username").value.trim();
  const p = document.getElementById("password").value.trim();

  const success = Auth.login(u, p);

  if (!success) {
    document.getElementById("errorMsg").innerText =
      "Username atau password salah";
    return;
  }

  // PENTING: path relatif untuk GitHub Pages
  window.location.replace("dashboard.html");
});
</script>

</body>
</html>
