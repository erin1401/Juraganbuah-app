<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Item Masuk</title>

<link rel="stylesheet" href="../css/styles.css">
<script src="../js/data.js"></script>
<script src="../js/auth.js"></script>
</head>

<body>

<div class="topbar">
  <div class="logo">
    <img src="../assets/logo.png">
    <strong>Item Masuk</strong>
  </div>
  <nav>
    <a href="dashboard.html">Dashboard</a>
    <a href="stock-in.html" class="active">Item Masuk</a>
    <a href="items.html">Item</a>
    <a href="#" onclick="logout()">Logout</a>
  </nav>
</div>

<div class="container">

<div class="card">
  <h3>Tambah Stok</h3>

  <select id="item"></select>
  <input type="number" id="qty" placeholder="Jumlah">
  <input type="file" id="photo">

  <button type="button" class="btn btn-green" onclick="addStock()">Simpan</button>
</div>

</div>

<script>
const items = DataStore.getItems();
const select = document.getElementById("item");

items.forEach(i => {
  select.innerHTML += `<option value="${i.id}">${i.name}</option>`;
});

function addStock() {
  const id = select.value;
  const qty = +document.getElementById("qty").value;
  if (!qty) return alert("Qty wajib");

  const items = DataStore.getItems();
  const item = items.find(i => i.id === id);
  item.stock += qty;

  DataStore.saveItems(items);
  alert("Stok ditambahkan");
}
</script>

</body>
</html>
